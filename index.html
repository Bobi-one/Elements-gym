<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalogue Gymnastique</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .breadcrumb {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 10px;
            color: white;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .breadcrumb button {
            background: rgba(255,255,255,0.3);
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .breadcrumb button:hover {
            background: rgba(255,255,255,0.5);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .card-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #f0f0f0;
        }

        .card-content {
            padding: 15px;
        }

        .card-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .card-subtitle {
            font-size: 0.9em;
            color: #666;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.8);
            transition: transform 0.3s;
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #ff4444;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .modal-close:hover {
            background: #cc0000;
        }

        .modal-image {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            background: #f0f0f0;
        }

        .modal-body {
            padding: 30px;
        }

        .modal-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
        }

        .criteria {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .criteria-title {
            font-size: 1.3em;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .criterion {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }

        .criterion:last-child {
            margin-bottom: 0;
        }

        .criterion-label {
            font-weight: bold;
            color: #555;
            margin-bottom: 5px;
        }

        .criterion-text {
            color: #333;
        }

        .back-button {
            background: rgba(255,255,255,0.3);
            border: 2px solid white;
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .back-button:hover {
            background: rgba(255,255,255,0.5);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }

            .card-image {
                height: 150px;
            }

            .modal-body {
                padding: 20px;
            }

            .modal-title {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 id="pageTitle">Catalogue Gymnastique</h1>
        </header>

        <div id="breadcrumb" class="breadcrumb" style="display: none;">
            <button onclick="goHome()">üè† Accueil</button>
            <span id="breadcrumbText"></span>
        </div>

        <button id="backButton" class="back-button" style="display: none;" onclick="goBack()">
            ‚Üê Retour
        </button>

        <div id="content" class="grid"></div>
    </div>

    <div id="modal" class="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <img id="modalImage" class="modal-image" src="" alt="">
            <div class="modal-body">
                <h2 id="modalTitle" class="modal-title"></h2>
                <div id="modalCriteria" class="criteria"></div>
            </div>
        </div>
    </div>

    <script>
        const IMAGES_FOLDER = 'images/';
        
        const criteria = {
            "SOL - 1 - ROULER EN AVANT - 1 - Roulade avant avec plan incline.webp": ["Jambes serrees", "Se relever sans les mains"],
            "SOL - 1 - ROULER EN AVANT - 2 - Roulade avant.webp": ["Jambes serrees", "Se relever sans les mains"],
            "SOL - 1 - ROULER EN AVANT - 3 - Roulade avant pieds decales.webp": ["Se relever sans arret", "Se relever sans les mains"],
            "SOL - 1 - ROULER EN AVANT - 4 - Roulades avant enchainees x2.webp": ["Pas de temps d arret", "Se relever sans les mains"],
            "SOL - 1 - ROULER EN AVANT - 5 - Roulade avant elevee.webp": ["Etre en l air avant de poser les mains", "Se relever sans les mains"],
            "SOL - 1 - ROULER EN AVANT - 6 - Roulade avant ecart.webp": ["Jambes tendues a la verticale", "Rester equilibre"],
            "SOL - 1 - ROULER EN AVANT - 7 - ATR roulade avant.webp": ["Passage a l ATR", "Se relever sans les mains"],
            "SOL - 2 - ROULER EN ARRIERE - 1 - Roulade arriere avec plan incline.webp": ["Rouler dans l axe", "Se relever avec les mains"],
            "SOL - 2 - ROULER EN ARRIERE - 2 - Roulade arriere genoux.webp": ["Rouler dans l axe", "Arriver sur les genoux"],
            "SOL - 2 - ROULER EN ARRIERE - 3 - Roulade arriere ecart.webp": ["Rouler dans l axe", "Arriver sur les pieds (pas les genoux)"],
            "SOL - 2 - ROULER EN ARRIERE - 4 - Roulade arriere arrivee sur les pieds.webp": ["Rouler dans l axe", "Arriver pieds serres"],
            "SOL - 2 - ROULER EN ARRIERE - 5 - Roulade arriere tendues.webp": ["Jambes tendues du debut √† la fin", "Arriver jambes tendues"],
            "SOL - 2 - ROULER EN ARRIERE - 6 - Roulade arriere piquee a l ATR.webp": ["Passage a l ATR", "Etre equilibre"],
            "SOL - 3 - SE MAINTENIR - 1 - Chandelle bras dos.webp": ["Tenir 2 secondes", "Bras tendus"],
            "SOL - 3 - SE MAINTENIR - 2 - Pont.webp": ["La tete ne touche pas le sol", "Tenir 2 secondes"],
            "SOL - 3 - SE MAINTENIR - 3 - Trepied.webp": ["Corps aligne", "Tenir 2 secondes"],
            "SOL - 3 - SE MAINTENIR - 4 - Planche.webp": ["Jambe verticale horizontale tendue", "Tenir 2 secondes"],
            "SOL - 3 - SE MAINTENIR - 5 - Grand ecart.webp": ["Bassin au sol", "Tenir 2 secondes"],
            "SOL - 3 - SE MAINTENIR - 6 - Chandelle bras tete.webp": ["Corps vertical", "Tenir 2 secondes"],
            "SOL - 3 - SE MAINTENIR - 7 - Y.webp": ["Les 2 jambes tendues", "Tenir 2 secondes"],
            "SOL - 4 - SE RENVERSER - 1 - ATR contre le mur.webp": ["Corps tendu", "Jambe a la verticale"],
            "SOL - 4 - SE RENVERSER - 2 - ATR 1 jambe.webp": ["2 jambes, le corps et les bras alignes", "Passage a la verticale"],
            "SOL - 4 - SE RENVERSER - 3 - Roue.webp": ["Corps tendu", "Corps a la vertical"],
            "SOL - 4 - SE RENVERSER - 4 - Roue pied pied.webp": ["Jambes tendues a la verticale", "Mains et Pieds alignes au sol"],
            "SOL - 4 - SE RENVERSER - 5 - ATR.webp": ["Jambes tendues a la verticale", "Arriver equilibre pieds serres"],
            "SOL - 4 - SE RENVERSER - 6 - Rondade.webp": ["Envol apres pose des mains", "Pose des pieds joints"],
            "SOL - 5 - SAUTER - 1 - Saut extension.webp": ["Impulsion haute", "Alignement des mains aux pieds"],
            "SOL - 5 - SAUTER - 2 - Saut demi tour.webp": ["Alignement des mains aux pieds", "Reception stable"],
            "SOL - 5 - SAUTER - 3 - Saut de chat.webp": ["Les 2 genoux au dessus des fesses", "Reception stable et controlee"],
            "SOL - 5 - SAUTER - 4 - Saut groupe.webp": ["Genoux au dessus des fesses", "Reception jambes tendues"],
            "SOL - 5 - SAUTER - 5 - Saut 1 tour.webp": ["Les pieds font un tour PILE", "Reception stable"],
            "POUTRE - 1 - ENTRER - 1 - Entree laterale.webp": ["Depart √† l appui bras tendus", "Lancer jambe tendue"],
            "POUTRE - 1 - ENTRER - 2 - Entree par coupe.webp": ["Retirer la main lors du passage de jambe", "Jambe tendue sans toucher la poutre"],
            "POUTRE - 1 - ENTRER - 3 - Entree pose pieds.webp": ["Pose pieds joints", "Rester les pieds dans l axe du corps"],
            "POUTRE - 1 - ENTRER - 4 - Entree par renversement.webp": ["Pas d arret dans la rotation", "Arrivee a l appui bras tendus"],
            "POUTRE - 1 - ENTRER - 5 - Entree en bout de poutre 1 pied.webp": ["Arrivee sur 1 pied", "Etre en l air avant de poser le pied"],
            "POUTRE - 1 - ENTRER - 6 - Entree sautee pieds joints assis.webp": ["Les pieds ne touchent pas la poutre", "Rester les pieds dans l axe du corps"],
            "POUTRE - 2 - TOURNER - 1 - Demi tour accroupi.webp": ["Corps gaine", "Stable 2 secondes"],
            "POUTRE - 2 - TOURNER - 2 - Tour complet.webp": ["Jambes tendues au dessus de la poutre", "Stable 2 secondes"],
            "POUTRE - 2 - TOURNER - 3 - Demi tour 1 pied.webp": ["Jambe horizontale tendue", "Stable 2 secondes"],
            "POUTRE - 3 - SAUTER - 1 - Saut Extension de progression.webp": ["Rester jambes tendues", "Les pieds decollent de la poutre"],
            "POUTRE - 3 - SAUTER - 2 - Sauts changement de pied x3.webp": ["Corps tendu horizontal", "Stable 2 secondes"],
            "POUTRE - 3 - SAUTER - 3 - Saut de chat.webp": ["Tourner sur demi pointe", "Tourner sans s arreter"],
            "POUTRE - 3 - SAUTER - 4 - Saut groupe.webp": ["Tourner sur demi pointe", "Sans temps d arret"],
            "POUTRE - 4 - SE MAINTENIR - 1 - Attitude 3 s.webp": ["Tourner sur demi pointe", "Genou devant"],
            "POUTRE - 4 - SE MAINTENIR - 2 - Equilibre fessier 3 s.webp": ["Sauter vers le haut", "Corps tendu"],
            "POUTRE - 4 - SE MAINTENIR - 3 - Planche 3 s.webp": ["Rester sur place", "Pas de temps d arret entre les sauts"],
            "POUTRE - 4 - SE MAINTENIR - 4 - Culbuto 3 s.webp": ["Genoux a hauteur des fesses", "Reception stable"],
            "POUTRE - 4 - SE MAINTENIR - 5 - Chandelle 3 s.webp": ["Genoux a hauteur des fesses", "Impulsion pieds joints"],
            "POUTRE - 5 - SORTIR - 1 - Sortie saut extension.webp": ["Monter avant de descendre", "Arrivee pieds joints"],
            "POUTRE - 5 - SORTIR - 2 - Sortie saut groupe.webp": ["Genoux √† hauteur des fesses", "Arrivee pieds joints"],
            "POUTRE - 5 - SORTIR - 3 - Sortie saut demi tour.webp": ["Faire un 1/2 tour pile", "Monter avant de descendre"],
            "POUTRE - 5 - SORTIR - 4 - Sortie rondade.webp": ["Arrivee dans l'axe", "Passage a la verticale"],
            "POUTRE - 5 - SORTIR - 5 - Sortie saut de mains.webp": ["Passage √† la verticale", "Repousser la poutre avec les mains"],
            "BARRES ASYMETRIQUES - 1 - ENTRER - 1 - Entree a l appui bras flechis.webp": ["Monter sans temps d arret", "Arriver bras tendus a l appui"],
            "BARRES ASYMETRIQUES - 1 - ENTRER - 2 - Entree a l appui bras tendus.webp": ["Monter sans temps d arret", "Bras tendus du debut √† la fin"],
            "BARRES ASYMETRIQUES - 1 - ENTRER - 3 - Entree par renversement avec bloc.webp": ["Tourner sans temps d arret", "Arriver a l appui bras tendus"],
            "BARRES ASYMETRIQUES - 1 - ENTRER - 4 - Entree par renversement.webp": ["Tourner sans temps d arret", "Arriver a l appui bras tendus"],
            "BARRES ASYMETRIQUES - 1 - ENTRER - 5 - Entree par oscillation 1 jambe.webp": ["Garder les jambes tendues", "Garder les bras tendus"],
            "BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION - 1 - Passage de jambe.webp": ["Jambe tendue", "Ne pas toucher la barre avec la jambe"],
            "BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION - 2 - Demi tour suspendu.webp": ["Rester jambes serrees", "Tourner sans temps d arret"],
            "BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION - 3 - Demi tour assis.webp": ["Bras tendus", "Corps tendu"],
            "BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION - 4 - Coupe 1 main.webp": ["Retirer la main au passage de la jambe", "Jambe tendue sans toucher la barre"],
            "BARRES ASYMETRIQUES - 3 - TOURNER - 1 - Roulade avant bras plies.webp": ["Tourner sans temps d arret", "Descente controlee"],
            "BARRES ASYMETRIQUES - 3 - TOURNER - 2 - Roulade avant bras tendus.webp": ["Tourner sans temps d arret", "Descente controlee"],
            "BARRES ASYMETRIQUES - 3 - TOURNER - 3 - Fausse bacule.webp": ["Monter les jambes haut avant de descendre", "Descente controlee"],
            "BARRES ASYMETRIQUES - 3 - TOURNER - 4 - Renversement barre haute.webp": ["Tourner sans temps d arret", "Arriver a l appui bras tendus"],
            "BARRES ASYMETRIQUES - 3 - TOURNER - 5 - Tour d appui arriere.webp": ["Barre collee au corps", "Corps tendu"],
            "BARRES ASYMETRIQUES - 4 - SE BALANCER - 1 - Petits balancers x3.webp": ["Petite amplitude", "Jambes tendues"],
            "BARRES ASYMETRIQUES - 4 - SE BALANCER - 2 - Grands balancers x3.webp": ["Grande amplitude", "Jambes tendues"],
            "BARRES ASYMETRIQUES - 4 - SE BALANCER - 3 - Demi tour balancer.webp": ["Tourner sans arreter les balancers", "Jambes serrees"],
            "BARRES ASYMETRIQUES - 5 - SORTIR - 1 - Sortie repoussee.webp": ["Arriver loin pieds joints", "Arriver debout"],
            "BARRES ASYMETRIQUES - 5 - SORTIR - 2 - Sortie balancer avant ou arriere.webp": ["Arriver loin pieds joints", "Arriver stable et equilibre"],
            "BARRES ASYMETRIQUES - 5 - SORTIR - 3 - Sortie filee.webp": ["Poser les jambes tendues", "Voler avant la reception"],
            "BARRES PARALLELES - 1 - ENTRER - 1 - Entree montee a l appui.webp": ["Arriver stable a l appui", "Jambes serrees"],
            "BARRES PARALLELES - 1 - ENTRER - 2 - Entree sautee a l appui bras tendus.webp": ["Ne pas toucher les barres avant de sauter", "Bras tendus"],
            "BARRES PARALLELES - 1 - ENTRER - 3 - Entree laterale.webp": ["Ne pas poser la 2eme jambe sur la barre.", "Poser la mais sur la 2eme barre apres la poussee des jambes"],
            "BARRES PARALLELES - 2 - SE MAINTENIR - 1 - Siege.webp": ["Jambes tendues", "Fesses au dessus des barres"],
            "BARRES PARALLELES - 2 - SE MAINTENIR - 2 - Equerre.webp": ["Tenir pendant 2 secondes", "Genoux au dessus des barres"],
            "BARRES PARALLELES - 2 - SE MAINTENIR - 3 - Demi tour.webp": ["Jambes tendues", "Sans temps d arret"],
            "BARRES PARALLELES - 2 - SE MAINTENIR - 4 - Poirier.webp": ["Epaules au-dessus des barres", "Corps vertical pendant 2 secondes"],
            "BARRES PARALLELES - 3 - TOURNER - 1 - Rouleau arriere.webp": ["Ne pas toucher les barres avec les pieds", "Ne pas lacher les barres"],
            "BARRES PARALLELES - 3 - TOURNER - 2 - Rouleau arriere puis avant.webp": ["Ne pas toucher les barres avec les pieds", "Enchainer les 2 sans temps d arret"],
            "BARRES PARALLELES - 3 - TOURNER - 3 - Roulade avant avec tapis.webp": ["Epaules au-dessus des barres", "La tete n est pas sur le tapis mais entre les barres."],
            "BARRES PARALLELES - 3 - TOURNER - 4 - Roulade avant.webp": ["Epaules au-dessus des barres", "Arriver jambes ecartees"],
            "BARRES PARALLELES - 4 - SE BALANCER - 1 - Balancers sous les barres x3.webp": ["Meme amplitude devant et derriere", "Corps tendu"],
            "BARRES PARALLELES - 4 - SE BALANCER - 2 - Balancers au dessus des barres x3.webp": ["Corps tendu devant ET derriere", "Jambes au dessus des barres devant ET derriere"],
            "BARRES PARALLELES - 4 - SE BALANCER - 3 - Balancers brachiaux x3.webp": ["Jambes tendues", "Grande amplitude"],
            "BARRES PARALLELES - 5 - SORTIR - 1 - Sortie filee.webp": ["Arriver pieds serres", "Arriver loin"],
            "BARRES PARALLELES - 5 - SORTIR - 2 - Sortie arriere jambes pliees.webp": ["Ne pas toucher les barres avec les fesses ou les jambes", "Arriver pieds serres"],
            "BARRES PARALLELES - 5 - SORTIR - 3 - Sortie arriere jambes horizontales tendues.webp": ["Jambes tendues", "Arriver pieds serres"],
            "BARRES PARALLELES - 5 - SORTIR - 4 - Sortie avant avec quart de tour.webp": ["Jambes tendues", "Arriver face aux barres"]
        };

        let currentPage = 'home';
        let currentAgre = null;
        let currentAction = null;
        let navigationHistory = [];

        const agres = [
            { name: 'SOL', image: 'SOL.jpg' },
            { name: 'BARRES ASYMETRIQUES', image: 'BARRES ASYMETRIQUES.jpg' },
            { name: 'BARRES PARALLELES', image: 'BARRES PARALLELES.jpg' },
            { name: 'POUTRE', image: 'POUTRE.jpg' },
            { name: 'GYM ADAPTEE', image: 'GYM ADAPTEE.webp' }
        ];

        function parseImages() {
            const images = {};
            const imageData = document.getElementById('imageData').textContent.trim().split('\n');
            
            imageData.forEach(filename => {
                filename = filename.trim();
                if (!filename) return;
                
                const parts = filename.split(' - ');
                if (parts.length < 3) return;
                
                const agre = parts[0];
                const order = parts[1];
                const actionPart = parts[2];
                
                if (!images[agre]) images[agre] = {};
                
                // C'est une image d'action (finit par .webp ou .jpg)
                if (parts.length === 3 && (actionPart.endsWith('.webp') || actionPart.endsWith('.jpg'))) {
                    const action = actionPart.replace('.webp', '').replace('.jpg', '');
                    if (!images[agre][action]) {
                        images[agre][action] = { image: filename, order: parseInt(order), elements: {} };
                    } else {
                        images[agre][action].image = filename;
                    }
                }
                // C'est un √©l√©ment
                else if (parts.length >= 5) {
                    const action = parts[2];
                    const elementOrder = parts[3];
                    const elementName = parts.slice(4).join(' - ').replace('.webp', '').replace('.jpg', '');
                    
                    if (!images[agre][action]) {
                        images[agre][action] = { elements: {}, order: parseInt(order) };
                    }
                    if (!images[agre][action].elements) {
                        images[agre][action].elements = {};
                    }
                    images[agre][action].elements[elementName] = {
                        image: filename,
                        order: parseInt(elementOrder)
                    };
                }
            });
            
            return images;
        }

        let imagesData = null;

        function init() {
            imagesData = parseImages();
            showHome();
        }

        function showHome() {
            currentPage = 'home';
            currentAgre = null;
            currentAction = null;
            navigationHistory = [];
            
            document.getElementById('pageTitle').textContent = 'Catalogue Gymnastique';
            document.getElementById('breadcrumb').style.display = 'none';
            document.getElementById('backButton').style.display = 'none';
            
            const content = document.getElementById('content');
            content.innerHTML = '';
            
            agres.forEach(agre => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = () => showAgre(agre.name);
                
                card.innerHTML = `
                    <img class="card-image" src="${IMAGES_FOLDER}${agre.image}" alt="${agre.name}" 
                         onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'200\\' height=\\'200\\'%3E%3Crect fill=\\'%23ddd\\' width=\\'200\\' height=\\'200\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' text-anchor=\\'middle\\' dy=\\'.3em\\' fill=\\'%23999\\'%3E${agre.name}%3C/text%3E%3C/svg%3E'">
                    <div class="card-content">
                        <div class="card-title">${agre.name}</div>
                    </div>
                `;
                
                content.appendChild(card);
            });
        }

        function showAgre(agreName) {
            currentPage = 'agre';
            currentAgre = agreName;
            currentAction = null;
            navigationHistory = ['home'];
            
            document.getElementById('pageTitle').textContent = agreName;
            document.getElementById('breadcrumb').style.display = 'flex';
            document.getElementById('breadcrumbText').textContent = ` > ${agreName}`;
            document.getElementById('backButton').style.display = 'block';
            
            const content = document.getElementById('content');
            content.innerHTML = '';
            
            if (imagesData[agreName]) {
                const actions = Object.keys(imagesData[agreName])
                    .map(action => ({
                        name: action,
                        ...imagesData[agreName][action]
                    }))
                    .sort((a, b) => a.order - b.order);
                
                actions.forEach(action => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.onclick = () => showAction(agreName, action.name);
                    
                    const actionImage = action.image || `${agreName} - ${action.order} - ${action.name}.webp`;
                    
                    card.innerHTML = `
                        <img class="card-image" src="${IMAGES_FOLDER}${actionImage}" alt="${action.name}"
                             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'200\\' height=\\'200\\'%3E%3Crect fill=\\'%23ddd\\' width=\\'200\\' height=\\'200\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' text-anchor=\\'middle\\' dy=\\'.3em\\' fill=\\'%23999\\'%3E${action.name}%3C/text%3E%3C/svg%3E'">
                        <div class="card-content">
                            <div class="card-title">${action.name}</div>
                        </div>
                    `;
                    
                    content.appendChild(card);
                });
            }
        }

        function showAction(agreName, actionName) {
            currentPage = 'action';
            currentAgre = agreName;
            currentAction = actionName;
            navigationHistory = ['home', 'agre'];
            
            document.getElementById('pageTitle').textContent = actionName;
            document.getElementById('breadcrumb').style.display = 'flex';
            document.getElementById('breadcrumbText').textContent = ` > ${agreName} > ${actionName}`;
            document.getElementById('backButton').style.display = 'block';
            
            const content = document.getElementById('content');
            content.innerHTML = '';
            
            if (imagesData[agreName] && imagesData[agreName][actionName] && imagesData[agreName][actionName].elements) {
                const elements = Object.keys(imagesData[agreName][actionName].elements)
                    .map(elementName => ({
                        name: elementName,
                        ...imagesData[agreName][actionName].elements[elementName]
                    }))
                    .sort((a, b) => a.order - b.order);
                
                elements.forEach(element => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.onclick = () => showModal(element.image, element.name);
                    
                    card.innerHTML = `
                        <img class="card-image" src="${IMAGES_FOLDER}${element.image}" alt="${element.name}"
                             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'200\\' height=\\'200\\'%3E%3Crect fill=\\'%23ddd\\' width=\\'200\\' height=\\'200\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' text-anchor=\\'middle\\' dy=\\'.3em\\' fill=\\'%23999\\'%3E${element.name}%3C/text%3E%3C/svg%3E'">
                        <div class="card-content">
                            <div class="card-title">${element.name}</div>
                        </div>
                    `;
                    
                    content.appendChild(card);
                });
            }
        }

        function showModal(imagePath, title) {
            const modal = document.getElementById('modal');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');
            const modalCriteria = document.getElementById('modalCriteria');
            
            modalImage.src = IMAGES_FOLDER + imagePath;
            modalTitle.textContent = title;
            
            const elementCriteria = criteria[imagePath];
            if (elementCriteria && elementCriteria.length > 0) {
                modalCriteria.innerHTML = `
                    <div class="criteria-title">‚úì Crit√®res de r√©ussite</div>
                    ${elementCriteria.map((criterion, index) => `
                        <div class="criterion">
                            <div class="criterion-label">Crit√®re ${index + 1}</div>
                            <div class="criterion-text">${criterion}</div>
                        </div>
                    `).join('')}
                `;
            } else {
                modalCriteria.innerHTML = '';
            }
            
            modal.classList.add('active');
        }

        function closeModal(event) {
            if (!event || event.target.id === 'modal') {
                document.getElementById('modal').classList.remove('active');
            }
        }

        function goBack() {
            if (currentPage === 'action') {
                showAgre(currentAgre);
            } else if (currentPage === 'agre') {
                showHome();
            }
        }

        function goHome() {
            showHome();
        }

        window.onload = init;
    </script>
    
    <div id="imageData" style="display:none;">BARRES ASYMETRIQUES - 1 - ENTRER - 1 - Entree a l appui bras flechis.webp
BARRES ASYMETRIQUES - 1 - ENTRER - 2 - Entree a l appui bras tendus.webp
BARRES ASYMETRIQUES - 1 - ENTRER - 3 - Entree par renversement avec bloc.webp
BARRES ASYMETRIQUES - 1 - ENTRER - 4 - Entree par renversement.webp
BARRES ASYMETRIQUES - 1 - ENTRER - 5 - Entree par oscillation 1 jambe.webp
BARRES ASYMETRIQUES - 1 - ENTRER.webp
BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION - 1 - Passage de jambe.webp
BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION - 2 - Demi tour suspendu.webp
BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION - 3 - Demi tour assis.webp
BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION - 4 - Coupe 1 main.webp
BARRES ASYMETRIQUES - 2 - APPUI OU SUSPENSION.webp
BARRES ASYMETRIQUES - 3 - TOURNER - 1 - Roulade avant bras plies.webp
BARRES ASYMETRIQUES - 3 - TOURNER - 2 - Roulade avant bras tendus.webp
BARRES ASYMETRIQUES - 3 - TOURNER - 3 - Fausse bacule.webp
BARRES ASYMETRIQUES - 3 - TOURNER - 4 - Renversement barre haute.webp
BARRES ASYMETRIQUES - 3 - TOURNER - 5 - Tour d appui arriere.webp
BARRES ASYMETRIQUES - 3 - TOURNER.webp
BARRES ASYMETRIQUES - 4 - SE BALANCER - 1 - Petits balancers x3.webp
BARRES ASYMETRIQUES - 4 - SE BALANCER - 2 - Grands balancers x3.webp
BARRES ASYMETRIQUES - 4 - SE BALANCER - 3 - Demi tour balancer.webp
BARRES ASYMETRIQUES - 4 - SE BALANCER.webp
BARRES ASYMETRIQUES - 5 - SORTIR - 1 - Sortie repoussee.webp
BARRES ASYMETRIQUES - 5 - SORTIR - 2 - Sortie balancer avant ou arriere.webp
BARRES ASYMETRIQUES - 5 - SORTIR - 3 - Sortie filee.webp
BARRES ASYMETRIQUES - 5 - SORTIR.webp
BARRES ASYMETRIQUES.jpg
BARRES PARALLELES - 1 - ENTRER - 1 - Entree montee a l appui.webp
BARRES PARALLELES - 1 - ENTRER - 2 - Entree sautee a l appui bras tendus.webp
BARRES PARALLELES - 1 - ENTRER - 3 - Entree laterale.webp
BARRES PARALLELES - 1 - ENTRER.webp
BARRES PARALLELES - 2 - SE MAINTENIR - 1 - Siege.webp
BARRES PARALLELES - 2 - SE MAINTENIR - 2 - Equerre.webp
BARRES PARALLELES - 2 - SE MAINTENIR - 3 - Demi tour.webp
BARRES PARALLELES - 2 - SE MAINTENIR - 4 - Poirier.webp
BARRES PARALLELES - 2 - SE MAINTENIR.webp
BARRES PARALLELES - 3 - TOURNER - 1 - Rouleau arriere.webp
BARRES PARALLELES - 3 - TOURNER - 2 - Rouleau arriere puis avant.webp
BARRES PARALLELES - 3 - TOURNER - 3 - Roulade avant avec tapis.webp
BARRES PARALLELES - 3 - TOURNER - 4 - Roulade avant.webp
BARRES PARALLELES - 3 - TOURNER.webp
BARRES PARALLELES - 4 - SE BALANCER - 1 - Balancers sous les barres x3.webp
BARRES PARALLELES - 4 - SE BALANCER - 2 - Balancers au dessus des barres x3.webp
BARRES PARALLELES - 4 - SE BALANCER - 3 - Balancers brachiaux x3.webp
BARRES PARALLELES - 4 - SE BALANCER.webp
BARRES PARALLELES - 5 - SORTIR - 1 - Sortie filee.webp
BARRES PARALLELES - 5 - SORTIR - 2 - Sortie arriere jambes pliees.webp
BARRES PARALLELES - 5 - SORTIR - 3 - Sortie arriere jambes horizontales tendues.webp
BARRES PARALLELES - 5 - SORTIR - 4 - Sortie avant avec quart de tour.webp
BARRES PARALLELES - 5 - SORTIR.webp
BARRES PARALLELES.jpg
GYM ADAPTEE - 1 - BARRES PARALLELES - 1 - Entree en siege.webp
GYM ADAPTEE - 1 - BARRES PARALLELES - 2 - Montee a l appui 3s.webp
GYM ADAPTEE - 1 - BARRES PARALLELES - 3 - Rouleau avant.webp
GYM ADAPTEE - 1 - BARRES PARALLELES - 4 - Balancer au siege.webp
GYM ADAPTEE - 1 - BARRES PARALLELES - 5 - Sortie balancee.webp
GYM ADAPTEE - 1 - BARRES PARALLELES.jpg
GYM ADAPTEE - 2 - BARRES ASYMETRIQUES - 1 - Montee a l appui 3 secondes.webp
GYM ADAPTEE - 2 - BARRES ASYMETRIQUES - 2 - Montee a l appui barre haute 3s.webp
GYM ADAPTEE - 2 - BARRES ASYMETRIQUES - 3 - Roulade avant barre basse.webp
GYM ADAPTEE - 2 - BARRES ASYMETRIQUES - 4 - Roulade avant barre haute.webp
GYM ADAPTEE - 2 - BARRES ASYMETRIQUES - 5 - Petits balancers.webp
GYM ADAPTEE - 2 - BARRES ASYMETRIQUES - 6 - Suspension 3 s.webp
GYM ADAPTEE - 2 - BARRES ASYMETRIQUES.jpg
GYM ADAPTEE.webp
POUTRE - 1 - ENTRER - 1 - Entree laterale.webp
POUTRE - 1 - ENTRER - 2 - Entree par coupe.webp
POUTRE - 1 - ENTRER - 3 - Entree pose pieds.webp
POUTRE - 1 - ENTRER - 4 - Entree par renversement.webp
POUTRE - 1 - ENTRER - 5 - Entree en bout de poutre 1 pied.webp
POUTRE - 1 - ENTRER - 6 - Entree sautee pieds joints assis.webp
POUTRE - 1 - ENTRER.webp
POUTRE - 2 - TOURNER - 1 - Demi tour accroupi.webp
POUTRE - 2 - TOURNER - 2 - Tour complet.webp
POUTRE - 2 - TOURNER - 3 - Demi tour 1 pied.webp
POUTRE - 2 - TOURNER.webp
POUTRE - 3 - SAUTER - 1 - Saut Extension de progression.webp
POUTRE - 3 - SAUTER - 2 - Sauts changement de pied x3.webp
POUTRE - 3 - SAUTER - 3 - Saut de chat.webp
POUTRE - 3 - SAUTER - 4 - Saut groupe.webp
POUTRE - 3 - SAUTER.webp
POUTRE - 4 - SE MAINTENIR - 1 - Attitude 3 s.webp
POUTRE - 4 - SE MAINTENIR - 2 - Equilibre fessier 3 s.webp
POUTRE - 4 - SE MAINTENIR - 3 - Planche 3 s.webp
POUTRE - 4 - SE MAINTENIR - 4 - Culbuto 3 s.webp
POUTRE - 4 - SE MAINTENIR - 5 - Chandelle 3 s.webp
POUTRE - 4 - SE MAINTENIR.webp
POUTRE - 5 - SORTIR - 1 - Sortie saut extension.webp
POUTRE - 5 - SORTIR - 2 - Sortie saut groupe.webp
POUTRE - 5 - SORTIR - 3 - Sortie saut demi tour.webp
POUTRE - 5 - SORTIR - 4 - Sortie rondade.webp
POUTRE - 5 - SORTIR - 5 - Sortie saut de mains.webp
POUTRE - 5 - SORTIR.webp
POUTRE.jpg
SOL - 1 - ROULER EN AVANT - 1 - Roulade avant avec plan incline.webp
SOL - 1 - ROULER EN AVANT - 2 - Roulade avant.webp
SOL - 1 - ROULER EN AVANT - 3 - Roulade avant pieds decales.webp
SOL - 1 - ROULER EN AVANT - 4 - Roulades avant enchainees x2.webp
SOL - 1 - ROULER EN AVANT - 5 - Roulade avant elevee.webp
SOL - 1 - ROULER EN AVANT - 6 - Roulade avant ecart.webp
SOL - 1 - ROULER EN AVANT - 7 - ATR roulade avant.webp
SOL - 1 - ROULER EN AVANT.webp
SOL - 2 - ROULER EN ARRIERE - 1 - Roulade arriere avec plan incline.webp
SOL - 2 - ROULER EN ARRIERE - 2 - Roulade arriere genoux.webp
SOL - 2 - ROULER EN ARRIERE - 3 - Roulade arriere ecart.webp
SOL - 2 - ROULER EN ARRIERE - 4 - Roulade arriere arrivee sur les pieds.webp
SOL - 2 - ROULER EN ARRIERE - 5 - Roulade arriere tendues.webp
SOL - 2 - ROULER EN ARRIERE - 6 - Roulade arriere piquee a l ATR.webp
SOL - 2 - ROULER EN ARRIERE.webp
SOL - 3 - SE MAINTENIR - 1 - Chandelle bras dos.webp
SOL - 3 - SE MAINTENIR - 2 - Pont.webp
SOL - 3 - SE MAINTENIR - 3 - Trepied.webp
SOL - 3 - SE MAINTENIR - 4 - Planche.webp
SOL - 3 - SE MAINTENIR - 5 - Grand ecart.webp
SOL - 3 - SE MAINTENIR - 6 - Chandelle bras tete.webp
SOL - 3 - SE MAINTENIR - 7 - Y.webp
SOL - 3 - SE MAINTENIR.webp
SOL - 4 - SE RENVERSER - 1 - ATR contre le mur.webp
SOL - 4 - SE RENVERSER - 2 - ATR 1 jambe.webp
SOL - 4 - SE RENVERSER - 3 - Roue.webp
SOL - 4 - SE RENVERSER - 4 - Roue pied pied.webp
SOL - 4 - SE RENVERSER - 5 - ATR.webp
SOL - 4 - SE RENVERSER - 6 - Rondade.webp
SOL - 4 - SE RENVERSER.webp
SOL - 5 - SAUTER - 1 - Saut extension.webp
SOL - 5 - SAUTER - 2 - Saut demi tour.webp
SOL - 5 - SAUTER - 3 - Saut de chat.webp
SOL - 5 - SAUTER - 4 - Saut groupe.webp
SOL - 5 - SAUTER - 5 - Saut 1 tour.webp
SOL - 5 - SAUTER.webp
SOL.jpg</div>
</body>
</html>